<!-- app/views/layouts/admin.html.erb -->
<!DOCTYPE html>
<html>
<head>
  <title>Tax Form Admin</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>

  <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
  <%= javascript_importmap_tags %>

  <!-- AG Grid CSS and JS files -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ag-grid-community@30.2.0/styles/ag-grid.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ag-grid-community@30.2.0/styles/ag-theme-alpine.min.css">
  <script src="https://cdn.jsdelivr.net/npm/ag-grid-community@30.2.0/dist/ag-grid-community.min.js"></script>

  <style>
      body {
          font-family: Arial, sans-serif;
          line-height: 1.6;
          margin: 0;
          padding: 0;
      }

      .admin-header {
          background-color: #2c3e50;
          color: white;
          padding: 10px 0;
          margin-bottom: 20px;
      }

      .admin-nav {
          display: flex;
          gap: 20px;
          padding: 10px 20px;
      }

      .admin-nav a {
          color: white;
          text-decoration: none;
      }

      .admin-nav a:hover {
          text-decoration: underline;
      }

      .admin-container {
          max-width: 1200px;
          margin: 0 auto;
          padding: 0 20px;
      }

      .form-section {
          margin-bottom: 30px;
          padding: 20px;
          border: 1px solid #ddd;
          border-radius: 5px;
      }

      .form-section h3 {
          margin-top: 0;
          border-bottom: 1px solid #eee;
          padding-bottom: 10px;
      }

      .calculation-rule {
          background-color: #f7f7f7;
          padding: 15px;
          margin-bottom: 15px;
          border-radius: 5px;
      }

      .field-group {
          display: flex;
          flex-wrap: wrap;
          gap: 20px;
          margin-bottom: 15px;
      }

      .field {
          flex: 1;
          min-width: 200px;
      }

      .actions {
          margin-top: 20px;
      }

      .button, input[type="submit"] {
          display: inline-block;
          background: #4CAF50;
          color: white;
          padding: 8px 16px;
          margin-right: 10px;
          text-decoration: none;
          border: none;
          border-radius: 4px;
          cursor: pointer;
      }

      .delete-button {
          background: #d9534f;
      }

      table {
          width: 100%;
          border-collapse: collapse;
      }

      table th, table td {
          padding: 8px;
          border: 1px solid #ddd;
          text-align: left;
      }

      table th {
          background-color: #f4f4f4;
      }

      .notice {
          background-color: #dff0d8;
          color: #3c763d;
          padding: 10px;
          margin-bottom: 20px;
          border-radius: 4px;
      }

      .alert {
          background-color: #f2dede;
          color: #a94442;
          padding: 10px;
          margin-bottom: 20px;
          border-radius: 4px;
      }

      .needs-update {
          background-color: #fff3cd;
          color: #856404;
      }
  </style>
</head>

<body>
<header class="admin-header">
  <div class="admin-container">
    <div class="admin-nav">
      <a href="<%= root_path %>">Back to App</a>
      <a href="<%= admin_root_path %>">Forms List</a>
      <a href="<%= new_admin_form_path %>">Add New Form</a>
    </div>
  </div>
</header>

<div class="admin-container">
  <% if notice %>
    <div class="notice"><%= notice %></div>
  <% end %>

  <% if alert %>
    <div class="alert"><%= alert %></div>
  <% end %>

  <%= yield %>
</div>
</body>
</html>